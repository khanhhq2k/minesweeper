<div class="container-sm">
  <h1 class="display-4 text-center mb-4">Minesweeper</h1>
  
  <div class="card mb-4 mx-auto" style="max-width: 600px;">
    <div class="card-body">
      <%= form_tag games_path, method: :post do %>
        <div class="mb-3">
          <%= label_tag :email, "Email:", class: "form-label" %>
          <%= email_field_tag :email, params[:email], required: true, 
              class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= label_tag :name, "Game Name:", class: "form-label" %>
          <%= text_field_tag :name, nil, required: true, placeholder: "My Game",
              class: "form-control" %>
        </div>

        <div class="row mb-3">
          <div class="col-md-4">
            <%= label_tag :width, "Width:", class: "form-label" %>
            <%= number_field_tag :width, 8, min: 5, max: 30, required: true,
                class: "form-control" %>
          </div>

          <div class="col-md-4">
            <%= label_tag :height, "Height:", class: "form-label" %>
            <%= number_field_tag :height, 8, min: 5, max: 30, required: true,
                class: "form-control" %>
          </div>

          <div class="col-md-4">
            <%= label_tag :mines, "Mines:", class: "form-label" %>
            <%= number_field_tag :mines, 10, min: 1, required: true,
                class: "form-control" %>
          </div>
        </div>

        <%= submit_tag "Generate Board", class: "btn btn-primary w-100" %>
      <% end %>
    </div>
  </div>

  <% if flash[:error] %>
    <div class="alert alert-danger mx-auto mb-4" style="max-width: 600px;">
      <%= flash[:error] %>
    </div>
  <% end %>

  <% if @games %>
    <div class="mx-auto" style="max-width: 600px;">
      <h2 class="h4 mb-3">Your last 10 games</h2>
      <div class="list-group">
        <%= render partial: "game", collection: @games %>
      </div>
      <div class="text-center mt-3">
        <%= link_to "view all generated boards", games_path, 
            class: "btn btn-outline-secondary" %>
      </div>
    </div>
  <% end %>
</div>
